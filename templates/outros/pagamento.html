{% extends 'auxiliar/base.html' %}
{% load static %}
{% block title %} Bolão virtual | Pagamentos {% endblock %}

{% block body %}
<section class="payment-page">
  <main class="container">
    <div class="payment-header">
      <h1><i class="fas fa-qrcode"></i> Pagamento via PIX</h1>
      <p>Finalize sua compra de forma rápida e segura</p>
    </div>

    <div class="payment-steps">
      <div class="step completed">
        <div class="step-number">1</div>
        <div class="step-text">Carrinho</div>
      </div>
      <div class="step active">
        <div class="step-number">2</div>
        <div class="step-text">Pagamento</div>
      </div>
      <div class="step">
        <div class="step-number">3</div>
        <div class="step-text">Confirmação</div>
      </div>
    </div>

    <div class="payment-container">
      <div class="payment-methods active" id="pix-method">
        <div class="pix-payment">
          <div class="pix-logo">
            <i class="fab fa-pix"></i>
          </div>

          <h3>Pague com PIX em até 30 minutos</h3>

          <div class="timer-container">
            <p>Tempo restante para pagamento:</p>
            <div class="timer" id="payment-timer">30:00</div>
          </div>

          <div class="pix-qrcode">
              <img src="{% static 'img/qrcode_pix/pix.jpeg' %}" alt="QR Code PIX">
          </div>

          <div class="pix-instructions">
            <h4>Como pagar:</h4>
            <ol>
              <li>Abra o aplicativo do seu banco</li>
              <li>Selecione a opção PIX</li>
              <li>Escolha "Ler QR Code" e aponte para a imagem acima</li>
              <li>Confira os dados e confirme o pagamento</li>
            </ol>
            <p>OU copie nossa chave PIX abaixo:</p>
          </div>

          <div class="pix-key">
            <div class="pix-key-info">
              <small>Chave PIX (E-mail)</small>
              <div class="pix-key-value" id="pix-key">{{ pagamento.chave_pix }}</div>
            </div>
            <button class="btn-copy-pix" id="copy-pix-btn">
              <i class="far fa-copy"></i> Copiar
            </button>
          </div>

          <div class="payment-info">
            <div class="payment-details">
              <span>Beneficiário:</span>
              <span>{{ pagamento.destinatario }}</span>
            </div>
            <div class="payment-details">
              <span>Valor:</span>
              <span class="payment-total">R$ {{ pagamento.valor }}</span>
            </div>
          </div>

          <div class="payment-note">
            <p><i class="fas fa-info-circle"></i> Assim que identificarmos seu pagamento, você receberá um e-mail de confirmação e seus acesso ao bolão.</p>
          </div>
        </div>
      </div>
    </div>
  </main>
</section>
{% endblock %}
